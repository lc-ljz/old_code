import n from"../../__snowpack__/env.js";import.meta.env=n;import{useEffect as m,useState as i}from"../../web_modules/react.js";import u from"../worker/index.js";const R=import.meta.env.SNOWPACK_PUBLIC_BASE_URI,c=(o,s)=>{const[_,t]=i({});return m(()=>{const e=new u(`${R}/_dist_/worker/${o}.js`);return e.on("INITIALIZED",()=>{t({worker:e}),e.emit("RUN",s)}),e.on("RESULT",r=>t({data:r,worker:e})),e.on("ERROR",r=>t({error:r,worker:e})),()=>{e.terminate()}},[o,s]),_};export default c;
