var python=python||{};python.Parser=class{constructor(e,i){this._tokenizer=new python.Tokenizer(e,i),python.Parser._precedence||(python.Parser._precedence={or:2,and:3,not:4,in:5,instanceof:5,is:5,"<":5,">":5,"<=":5,">=":5,"<>":5,"==":5,"!=":5,"|":6,"^":7,"&":8,"<<":9,">>":9,"+":10,"-":10,"*":11,"@":11,"/":11,"//":11,"%":11,"~":13,"**":14})}parse(){const e=this._node("program");for(e.body=[];!this._tokenizer.match("eof");){const i=this._parseStatement();if(i)e.body.push(i);else if(!(this._tokenizer.eat(`
`)||this._tokenizer.eat(";")||this._tokenizer.peek().type=="eof"||this._tokenizer.eat("indent")&&this._tokenizer.peek().type=="eof"))throw new python.Error("Unknown statement"+this._tokenizer.location())}return e}_parseSuite(){const e=this._node("block");e.statements=[];let i=null;if(this._tokenizer.eat(`
`)){if(this._tokenizer.eat("indent")){for(;!this._tokenizer.eat("eof")&&!this._tokenizer.eat("dedent");)if(!this._tokenizer.eat(";")){if(i=this._parseStatement(),i)e.statements.push(i);else if(!this._tokenizer.eat(`
`)&&!this._tokenizer.match("dedent")&&!this._tokenizer.match("eof"))throw new python.Error("Empty statement"+this._tokenizer.location())}}}else if(!this._tokenizer.eat("eof")){for(;!this._tokenizer.match(`
`)&&!this._tokenizer.match("eof")&&!this._tokenizer.match("dedent");)if(!this._tokenizer.eat(";")){if(i=this._parseStatement(),!i)throw new python.Error("Empty statement"+this._tokenizer.location());e.statements.push(i)}this._tokenizer.eat(`
`)}return e}_parseStatement(){let e=this._node();if(e=this._eat("id","break"),e||(e=this._eat("id","continue"),e))return e;if(e=this._eat("id","return"),e)return e.expression=this._parseExpression(-1,[],!0),e;if(e=this._eat("id","raise"),e)return e.exception=this._parseExpression(-1,["from"]),this._tokenizer.eat("id","from")?e.from=this._parseExpression():this._tokenizer.eat(",")&&(e.exception=[e.exception],e.exception.push(this._parseExpression()),this._tokenizer.eat(",")&&e.exception.push(this._parseExpression())),e;if(e=this._eat("id","assert"),e){for(e.condition=this._parseExpression();this._tokenizer.eat(",");)e.condition={type:"list",value:[e.condition]},e.condition.value.push(this._parseExpression());return e}if(e=this._eat("id","exec"),e){if(e.variable=this._parseExpression(-1,["in"]),this._tokenizer.eat("in"))do e.target=e.target||[],e.target.push(this._parseExpression(-1,["in"],!1));while(this._tokenizer.eat(","));return e}if(e=this._eat("id","global"),e){e.variable=[];do e.variable.push(this._parseName());while(this._tokenizer.eat(","));return e}if(e=this._eat("id","nonlocal"),e){e.variable=[];do e.variable.push(this._parseName());while(this._tokenizer.eat(","));return e}if(e=this._eat("id","import"),e){e.modules=[];do{const r=this._node("module");r.name=this._parseExpression(-1,[],!1),this._tokenizer.eat("id","as")&&(r.as=this._parseExpression(-1,[],!1)),e.modules.push(r)}while(this._tokenizer.eat(","));return e}if(e=this._eat("id","from"),e){const r=this._tokenizer.peek();r&&Array.from(r.type).every(s=>s==".")?(e.from=this._eat(r.type),e.from.expression=this._parseExpression()):e.from=this._parseExpression(),this._tokenizer.expect("id","import"),e.import=[];const n=this._tokenizer.eat("(");do{const s=this._node();s.symbol=this._parseExpression(-1,[],!1),this._tokenizer.eat("id","as")&&(s.as=this._parseExpression(-1,[],!1)),e.import.push(s)}while(this._tokenizer.eat(","));return n&&this._tokenizer.expect(")"),e}if(e=this._eat("id","class"),e)return e.name=this._parseName().value,this._tokenizer.peek().value==="("&&(e.base=this._parseArguments()),this._tokenizer.expect(":"),e.body=this._parseSuite(),e;const i=this._eat("id","async");if(i&&!this._tokenizer.match("id","def")&&!this._tokenizer.match("id","with")&&!this._tokenizer.match("id","for"))throw new python.Error("Expected 'def', 'with' or 'for'"+this._tokenizer.location());if(e=this._eat("id","def"),e)return i&&(e.async=i),e.name=this._parseName().value,this._tokenizer.expect("("),e.parameters=this._parseParameters(")"),this._tokenizer.eat("->")&&(e.returnType=this._parseType()),this._tokenizer.expect(":"),e.body=this._parseSuite(),e;if(e=this._eat("id","del"),e)return e.expression=this._parseExpression(-1,[],!0),e;if(e=this._eat("id","print"),e)return e.expression=this._parseExpression(-1,[],!0),e;if(e=this._eat("id","if"),e){e.condition=this._parseExpression(),this._tokenizer.expect(":"),e.then=this._parseSuite();let r=e;for(this._tokenizer.eat(`
`);this._tokenizer.eat("id","elif");)r.else=this._node("if"),r=r.else,r.condition=this._parseExpression(),this._tokenizer.expect(":"),r.then=this._parseSuite(),this._tokenizer.eat(`
`);return this._tokenizer.eat("id","else")&&(this._tokenizer.expect(":"),r.else=this._parseSuite()),e}if(e=this._eat("id","while"),e)return e.condition=this._parseExpression(),this._tokenizer.expect(":"),e.body=this._parseSuite(),this._tokenizer.eat("id","else")&&(this._tokenizer.expect(":"),e.else=this._parseSuite()),e;if(e=this._eat("id","pass"),e)return e;if(e=this._eat("id","for"),e){for(e.variable=[],e.variable.push(this._parseExpression(-1,["in"]));this._tokenizer.eat(",");){if(this._tokenizer.match("id","in")){e.variable.push({});break}e.variable.push(this._parseExpression(-1,["in"]))}for(this._tokenizer.expect("id","in"),e.target=[],e.target.push(this._parseExpression());this._tokenizer.eat(",");){if(this._tokenizer.match(":")){e.target.push({});break}e.target.push(this._parseExpression(-1,["in"]))}return this._tokenizer.expect(":"),e.body=this._parseSuite(),this._tokenizer.eat("id","else")&&(this._tokenizer.expect(":"),e.else=this._parseSuite()),e}if(e=this._eat("id","with"),e){i&&(e.async=i),e.item=[];do{const r=this._node();r.type="with_item",r.expression=this._parseExpression(),this._tokenizer.eat("id","as")&&(r.variable=this._parseExpression()),e.item.push(r)}while(this._tokenizer.eat(","));return this._tokenizer.expect(":"),e.body=this._parseSuite(),e}if(e=this._eat("id","try"),e){for(this._tokenizer.expect(":"),e.body=this._parseSuite(),e.except=[];this._tokenizer.match("id","except");){const r=this._node("except");for(this._tokenizer.expect("id","except"),r.clause=[],r.clause.push(this._parseExpression());this._tokenizer.eat(",");){if(this._tokenizer.match(":")||this._tokenizer.match("as")){r.clause.push({});break}r.clause.push(this._parseExpression())}this._tokenizer.eat("id","as")&&(r.variable=this._parseExpression()),this._tokenizer.expect(":"),r.body=this._parseSuite(),e.except.push(r)}return this._tokenizer.match("id","else")&&(e.else=this._node("else"),this._tokenizer.expect("id","else"),this._tokenizer.expect(":"),e.else.body=this._parseSuite()),this._tokenizer.match("id","finally")&&(e.finally=this._node("finally"),this._tokenizer.expect("id","finally"),this._tokenizer.expect(":"),e.finally.body=this._parseSuite()),e}if(this._tokenizer.match("@")){if(e=this._node("decorator"),this._tokenizer.expect("@"),e.value=this._parseExpression(),!e.value||e.value.type!=="call"&&e.value.type!=="id"&&e.value.type!==".")throw new python.Error("Invalid decorator"+this._tokenizer.location());return e}const t=this._parseExpression(-1,[],!0);if(t){if(t.type=="id"&&this._tokenizer.eat(":"))return e=this._node("var"),e.name=t.value,e.location=t.location,e.variableType=this._parseExpression(-1,["="]),this._tokenizer.eat("=")&&(e.initializer=this._parseExpression()),e;let r=!1;switch(t.type){case"=":case":=":case"==":case"!=":case"+=":case"-=":case"*=":case"@=":case"/=":case"//=":case"**=":case"&=":case"|=":case"%=":case">>=":case"<<=":case">>":case"<<":case">=":case"<=":case"<":case">":case"%":case"^=":case"...":case"call":case"assert":case"raise":case"string":case"list":case"var":case".":case"[]":case"yield":case"+":case"-":case"*":case"**":case"@":case"/":case"//":case"~":case"&":case"^":case"|":case"not":case"id":case"number":case"in":case"and":case"or":case"if":case"for":case"tuple":case"lambda":case"await":r=!0}if(r)return t;throw new python.Error("Unhandled expression"+this._tokenizer.location())}return null}_parseExpression(e,i,t){e=e||-1;const r=new Set(i),n=[];for(;;){let s=this._node();const o=this._tokenizer.peek();if(n.length==1&&r.has(o.value))break;const a=python.Parser._precedence[o.value];if(a&&a>=e){if(this._tokenizer.read(),s.type=o.value,o.type!="id"||o.value!=="in"&&o.value!=="not"){if(o.value=="~"){s.type="~",s.expression=this._parseExpression(a,i,t!==!1),n.push(s);continue}o.type=="id"&&o.value=="is"&&this._tokenizer.eat("id","not")&&(s.type="is not")}else if(o.value==="in")s.type="in";else{if(!this._tokenizer.eat("id","in")){s.type="not",s.expression=this._parseExpression(a,i,t!==!1),n.push(s);continue}s.type="not in"}s.left=n.pop(),s.right=this._parseExpression(a,i,t!==!1),n.push(s);continue}if(this._tokenizer.eat(":=")){s.type=":=",s.target=n.pop(),s.expression=this._parseExpression(-1,i,t!==!1),n.push(s);continue}if(this._tokenizer.eat("=")){s.type="=",s.target=n.pop(),s.expression=this._parseExpression(-1,i,t!==!1),n.push(s);continue}switch(o.type){case"-=":case"**=":case"*=":case"//=":case"/=":case"&=":case"%=":case"^=":case"+=":case"<<=":case">>=":case"|=":case"@=":s=this._node(o.type),this._tokenizer.expect(o.type),s.target=n.pop(),s.expression=this._parseExpression(-1,i,!0),n.push(s);continue}if(s=this._eat("id","if"),s){s.then=n.pop(),s.condition=this._parseExpression(),this._tokenizer.expect("id","else"),s.else=this._parseExpression(),n.push(s);continue}for(;this._tokenizer.match("id","for")||this._tokenizer.match("id","async");){const _=this._eat("id","async");if(_&&!this._tokenizer.match("id","for"))throw new python.Error("Expected 'for'"+this._tokenizer.location());if(s=this._eat("id","for"),s){for(_&&(s.async=_),s.expression=n.pop(),s.variable=this._parseExpression(-1,["in"],!0),this._tokenizer.expect("id","in"),s.target=this._parseExpression(-1,["for","if"],!0);this._tokenizer.eat("id","if");)s.condition=s.condition||[],s.condition.push(this._parseExpression(-1,["for","if"]));n.push(s)}}if(s=this._eat("id","lambda"),s){s.parameters=this._parseParameters(":"),s.body=this._parseExpression(-1,i,!1),n.push(s);continue}if(s=this._eat("id","yield"),s){if(this._tokenizer.eat("id","from"))s.from=this._parseExpression(-1,[],!0);else{s.expression=[];do s.expression.push(this._parseExpression(-1,[],!1));while(this._tokenizer.eat(","))}n.push(s);continue}if(s=this._eat("id","await"),s){s.expression=this._parseExpression(e,i,t),n.push(s);continue}if(s=this._eat("."),s){this._tokenizer.eat(`
`),s.target=n.pop(),s.member=this._parseName(),n.push(s);continue}if(this._tokenizer.peek().value==="("){if(n.length==0){s=this._node("tuple");const _=this._parseArguments();_.length==1?n.push(_[0]):(s.value=_,n.push(s))}else s=this._node("call"),s.target=n.pop(),s.arguments=this._parseArguments(),n.push(s);continue}if(this._tokenizer.peek().value==="["){n.length==0?n.push(this._parseExpressions()):(s=this._node("[]"),s.target=n.pop(),s.arguments=this._parseSlice(),n.push(s));continue}if(this._tokenizer.peek().value=="{"){n.push(this._parseDictOrSetMaker());continue}s=this._node();const h=this._parseLiteral();if(h){n.length>0&&h.type=="number"&&(h.value.startsWith("-")||h.value.startsWith("+"))?(s.type=h.value.substring(0,1),h.value=h.value.substring(1),s.left=n.pop(),s.right=h,n.push(s)):n.length==1&&h.type=="string"&&n[0].type=="string"?n[0].value+=h.value:n.push(h);continue}if(this._tokenizer.peek().keyword)break;if(s=this._eat("..."),s){n.push(s);continue}const p=this._parseName();if(!p){if(t===!0&&n.length==1&&this._tokenizer.eat(",")){if(n[0].type==="tuple"?s=n[0]:(s=this._node("tuple"),s.value=[n.pop()],n.push(s)),this._tokenizer.peek().value==="=")continue;if(!this._tokenizer.match("=")&&!r.has(this._tokenizer.peek().value)){const _=i.slice(0).concat([",","="]),c=this._parseExpression(e,_,t);if(c){s.value.push(c);continue}}break}break}n.push(p)}if(n.length==1)return n.pop();if(n.length!=0)throw new python.Error("Unexpected expression"+this._tokenizer.location());return null}_parseDictOrSetMaker(){const e=[];this._tokenizer.expect("{");let i=!0;for(;!this._tokenizer.eat("}");){const t=this._parseExpression(-1,[],!1);if(t==null)throw new python.Error("Expected expression"+this._tokenizer.location());if(this._tokenizer.eat(":")||(i=!1),i){const r=this._parseExpression(-1,[],!1);if(r==null)throw new python.Error("Expected expression"+this._tokenizer.location());e.push({type:"pair",key:t,value:r})}else e.push(t);if(this._tokenizer.eat(","),this._tokenizer.eat(`
`),this._tokenizer.eat("}"))break}return i?{type:"dict",value:e}:{type:"set",value:e}}_parseExpressions(){const e=[];for(this._tokenizer.expect("[");!this._tokenizer.eat("]");){const i=this._parseExpression();if(i==null)throw new python.Error("Expected expression"+this._tokenizer.location());for(e.push(i),this._tokenizer.eat(",");this._tokenizer.eat(`
`););if(this._tokenizer.eat("]"))break}return{type:"list",value:e}}_parseSlice(){let e={type:"::"},i=[];const t=["start","stop","step"];for(this._tokenizer.expect("[");!this._tokenizer.eat("]");)if(this._tokenizer.eat(":"))e[t.shift()]={type:"list",value:i},i=[];else if(!this._tokenizer.eat(",")&&this._tokenizer.peek().value!="]"){const r=this._parseExpression();if(r==null)throw new python.Error("Expected expression"+this._tokenizer.location());i.push(r)}return i.length>0&&(e[t.shift()]={type:"list",value:i}),!e.start||e.stop||e.step||(e=e.start),e}_parseName(){const e=this._tokenizer.peek();return e.type!="id"||e.keyword?null:(this._tokenizer.read(),e)}_parseLiteral(){const e=this._tokenizer.peek();return e.type=="string"||e.type=="number"||e.type=="boolean"?(this._tokenizer.read(),e):null}_parseTypeArguments(){const e=[];for(this._tokenizer.expect("[");!this._tokenizer.eat("]");){const i=this._parseType();if(i==null)throw new python.Error("Expected type "+this._tokenizer.location());if(e.push(i),!this._tokenizer.eat(",")){this._tokenizer.expect("]");break}}return e}_parseType(){const e=this._node();return e.type="type",e.name=this._parseExpression(-1,["[","="]),e.name?(this._tokenizer.peek().value==="["&&(e.arguments=this._parseTypeArguments()),e):null}_parseParameter(e){const i=this._node("parameter");if(this._tokenizer.eat("/"))return i.name="/",i;this._tokenizer.eat("**")&&(i.parameterType="**"),this._tokenizer.eat("*")&&(i.parameterType="*");const t=this._parseName();return t!==null?(i.name=t.value,e!==":"&&this._tokenizer.eat(":")&&(i.parameterType=this._parseType()),this._tokenizer.eat("=")&&(i.initializer=this._parseExpression()),i):null}_parseParameters(e){const i=[];for(;!this._tokenizer.eat(e);)if(this._tokenizer.eat(`
`),this._tokenizer.eat("(")?i.push(this._parseParameters(")")):i.push(this._parseParameter(e)),this._tokenizer.eat(`
`),!this._tokenizer.eat(",")){this._tokenizer.expect(e);break}return i}_parseArguments(){const e=[];for(this._tokenizer.expect("(");!this._tokenizer.eat(")");){if(this._tokenizer.eat(`
`))continue;const i=this._parseExpression(-1,[],!1);if(i==null)throw new python.Error("Expected expression "+this._tokenizer.location());if(e.push(i),!this._tokenizer.eat(",")){this._tokenizer.eat(`
`),this._tokenizer.expect(")");break}}return e}_node(e){const i={};return i.location=this._tokenizer.location(),e&&(i.type=e),i}_eat(e,i){if(this._tokenizer.match(e,i)){const t=this._node(e==="id"?i:e);return this._tokenizer.expect(e,i),t}return null}},python.Tokenizer=class{constructor(e,i){if(this._text=e,this._file=i,this._position=0,this._lineStart=0,this._line=0,this._token={type:"",value:""},this._brackets=0,this._indentation=[],this._outdent=0,!python.Tokenizer._whitespace){python.Tokenizer._whitespace=new RegExp("[\u1680\u180E\u2000-\u200A\u202F\u205F\u3000\uFEFF]");const t="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F0\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",r="\u0300-\u036F\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u0620-\u0649\u0672-\u06D3\u06E7-\u06E8\u06FB-\u06FC\u0730-\u074A\u0800-\u0814\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0840-\u0857\u08E4-\u08FE\u0900-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962-\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09D7\u09DF-\u09E0\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5F-\u0B60\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C01-\u0C03\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62-\u0C63\u0C66-\u0C6F\u0C82\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2-\u0CE3\u0CE6-\u0CEF\u0D02\u0D03\u0D46-\u0D48\u0D57\u0D62-\u0D63\u0D66-\u0D6F\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E34-\u0E3A\u0E40-\u0E45\u0E50-\u0E59\u0EB4-\u0EB9\u0EC8-\u0ECD\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F41-\u0F47\u0F71-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1029\u1040-\u1049\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u170E-\u1710\u1720-\u1730\u1740-\u1750\u1772\u1773\u1780-\u17B2\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1920-\u192B\u1930-\u193B\u1951-\u196D\u19B0-\u19C0\u19C8-\u19C9\u19D0-\u19D9\u1A00-\u1A15\u1A20-\u1A53\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1B46-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C00-\u1C22\u1C40-\u1C49\u1C5B-\u1C7D\u1CD0-\u1CD2\u1D00-\u1DBE\u1E01-\u1F15\u200C\u200D\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2D81-\u2D96\u2DE0-\u2DFF\u3021-\u3028\u3099\u309A\uA640-\uA66D\uA674-\uA67D\uA69F\uA6F0-\uA6F1\uA7F8-\uA800\uA806\uA80B\uA823-\uA827\uA880-\uA881\uA8B4-\uA8C4\uA8D0-\uA8D9\uA8F3-\uA8F7\uA900-\uA909\uA926-\uA92D\uA930-\uA945\uA980-\uA983\uA9B3-\uA9C0\uAA00-\uAA27\uAA40-\uAA41\uAA4C-\uAA4D\uAA50-\uAA59\uAA7B\uAAE0-\uAAE9\uAAF2-\uAAF3\uABC0-\uABE1\uABEC\uABED\uABF0-\uABF9\uFB20-\uFB28\uFE00-\uFE0F\uFE20-\uFE26\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F";python.Tokenizer._identifierStart=new RegExp("["+t+"]"),python.Tokenizer._identifierChar=new RegExp("["+t+r+"]")}}peek(){return this._cache||(this._token=this._tokenize(this._token),this._cache=!0),this._token}read(){this._cache||(this._token=this._tokenize(this._token));const e=this._position+this._token.value.length;for(;this._position<e;)python.Tokenizer._isNewline(this._get(this._position))?(this._position=this._newLine(this._position),this._lineStart=this._position,this._line++):this._position++;return this._cache=!1,this._token}match(e,i){const t=this.peek();return!(t.type!==e||i&&t.value!==i)}eat(e,i){const t=this.peek();return!(t.type!==e||i&&t.value!==i||(this.read(),0))}expect(e,i){const t=this.peek();if(t.type!==e)throw new python.Error("Unexpected '"+t.value+"' instead of '"+e+"'"+this.location());if(i&&t.value!==i)throw new python.Error("Unexpected '"+t.value+"' instead of '"+i+"'"+this.location());this.read()}location(){return" at "+this._file+":"+(this._line+1).toString()+":"+(this._position-this._lineStart+1).toString()}static _isSpace(e){switch(e){case" ":case"	":case"\v":case"\f":case"\xA0":return!0;default:return e.charCodeAt(0)>=5760&&python.Tokenizer._whitespace.test(e)}}static _isNewline(e){switch(e){case`
`:case"\r":case"\u2028":case"\u2029":return!0}return!1}static _isIdentifierStartChar(e){return e<"A"?e==="$":e<="Z"||(e<"a"?e==="_":e<="z"||e.charCodeAt(0)>=170&&python.Tokenizer._identifierStart.test(e))}static _isIdentifierChar(e){return e<"0"?e==="$":e<="9"||!(e<"A")&&(e<="Z"||(e<"a"?e==="_":e<="z"||e.charCodeAt(0)>=170&&python.Tokenizer._identifierChar.test(e)))}static _isDecimal(e){return e>="0"&&e<="9"||e==="_"}static _isHex(e){return python.Tokenizer._isDecimal(e)||e>="a"&&e<="f"||e>="A"&&e<="F"||e==="_"}static _isOctal(e){return e>="0"&&e<="7"||e==="_"}static _isBinary(e){return e==="0"||e==="1"||e==="_"}_get(e){return e>=this._text.length?"\0":this._text[e]}_skipLine(){for(;this._position<this._text.length&&!python.Tokenizer._isNewline(this._get(this._position));)this._position++}_skipWhitespace(){for(;this._position<this._text.length;){const e=this._text[this._position];if(e=="#")this._skipLine();else if(python.Tokenizer._isSpace(e))this._position++;else if(e=="\\"){if(this._position++,!python.Tokenizer._isNewline(this._get(this._position)))throw new python.Error("Unexpected '"+this._text[this._position]+"' after line continuation"+this.location());this._position=this._newLine(this._position),this._lineStart=this._position,this._line++}else{if(!(this._brackets>0&&python.Tokenizer._isNewline(e)))break;this._position=this._newLine(this._position),this._lineStart=this._position,this._line++}}}_newLine(e){return this._get(e)===`
`&&this._get(e+1)==="\r"||this._get(e)==="\r"&&this._get(e+1)===`
`?e+2:e+1}_tokenize(e){if(this._token.type!==`
`&&this._skipWhitespace(),this._token.type==="dedent"&&(this._indentation.pop(),this._outdent--,this._outdent>0))return{type:"dedent",value:""};if(e.type==`
`){let r="",n=this._position;for(;n<this._text.length;){const o=this._text[n];if(python.Tokenizer._isSpace(o))r+=o,n++;else{if(!python.Tokenizer._isNewline(o)){if(o=="#"){for(r="";n<this._text.length&&!python.Tokenizer._isNewline(this._text[n]);)n++;continue}break}r="",n=this._newLine(n),this._position=n,this._lineStart=n,this._line++}}let s=null;if(r.length>0){const o=this._indentation.length>0?this._indentation[this._indentation.length-1]:"";if(r.length>o.length)s="indent",this._indentation.push(r);else if(r.length>0&&r.length<o.length){s="dedent",this._outdent=0;for(let a=this._indentation.length-1;a>=0&&r.length<this._indentation[a].length;a--)this._outdent++}else this._position+=r.length}else{if(n>=this._text.length)return{type:"eof",value:""};this._indentation.length>0&&(s="dedent",this._outdent=this._indentation.length)}switch(s){case"indent":case"dedent":return{type:s,value:r}}}if(this._position>=this._text.length)return{type:"eof",value:""};const i=this._get(this._position),t=this._string();if(t)return t;switch(i){case"(":case"[":case"{":return this._brackets++,{type:i,value:i};case")":case"]":case"}":if(this._brackets===0)throw new python.Error("Unexpected '"+i+"'"+this.location);return this._brackets--,{type:i,value:i};case",":case";":case"?":return{type:i,value:i};default:{const r=this._number();if(r)return r;if(i==="."){let o=this._position+1;for(;this._get(o)===".";)o++;const a=this._text.substring(this._position,o);return{type:a,value:a}}const n=this._identifier();if(n)return n;const s=this._operator();if(s)return s;break}}if(i===".")return{type:i,value:i};if(i==="\\")return{type:"\\",value:i};if(python.Tokenizer._isNewline(i))return{type:`
`,value:this._text.substring(this._position,this._newLine(this._position))};throw new python.Error("Unexpected token '"+i+"'"+this.location())}_number(){let e=this._get(this._position);const i=e==="-"||e==="+"?1:0;let t=this._position+i;if(e=this._get(t),e==="0"){let n=0;const s=this._get(t+1);if(s!=="x"&&s!=="X"||!python.Tokenizer._isHex(this._get(t+2)))if(s!=="b"&&s!=="B"||!python.Tokenizer._isBinary(this._get(t+2)))if(s!=="o"&&s!=="O"||!python.Tokenizer._isOctal(this._get(t+2))){if(s>="0"&&s<="7"){for(t++;python.Tokenizer._isOctal(this._get(t));)t+=1;this._get(t)!=="l"&&this._get(t)!=="L"||(t+=1),n=8}}else{for(t+=2;python.Tokenizer._isOctal(this._get(t));)t++;n=8}else{for(t+=2;python.Tokenizer._isBinary(this._get(t));)t++;n=2}else{for(t+=2;python.Tokenizer._isHex(this._get(t));)t+=1;this._get(t)!=="l"&&this._get(t)!=="L"||(t+=1),n=16}if(n>0&&this._get(t)!=="."){const o=this._text.substring(this._position,t),a=o.indexOf("_")!==-1?o.split("_").join(""):o;if(!isNaN(parseInt(a,n)))return{type:"number",value:o}}}t=this._position+i;let r=!1;if(this._get(t)>="1"&&this._get(t)<="9"){for(;python.Tokenizer._isDecimal(this._get(t));)t++;e=this._get(t).toLowerCase(),r=e!=="."&&e!=="e"}if(this._get(t)==="0"&&(t++,e=this._get(t).toLowerCase(),r=!python.Tokenizer._isDecimal(e)&&e!=="."&&e!=="e"&&e!=="j"),r){if(this._get(t)==="j"||this._get(t)==="J"||this._get(t)==="l"||this._get(t)==="L")return{type:"number",value:this._text.substring(this._position,t+1)};const n=this._text.substring(this._position,t);if(!isNaN(parseInt(n,10)))return{type:"number",value:n}}if(t=this._position+i,this._get(t)>="0"&&this._get(t)<="9"||this._get(t)==="."&&this._get(t+1)>="0"&&this._get(t+1)<="9"){for(;python.Tokenizer._isDecimal(this._get(t));)t++;for(this._get(t)==="."&&t++;python.Tokenizer._isDecimal(this._get(t));)t++;if(t>this._position+i)if(this._get(t)==="e"||this._get(t)==="E")if(t++,this._get(t)!="-"&&this._get(t)!="+"||t++,python.Tokenizer._isDecimal(this._get(t)))for(;python.Tokenizer._isDecimal(this._get(t));)t++;else t=this._position;else for(;python.Tokenizer._isDecimal(this._get(t));)t++;if(t>this._position+i){if(this._get(t)==="j"||this._get(t)==="J")return{type:"number",value:this._text.substring(this._position,t+1)};const n=this._text.substring(this._position,t),s=n.indexOf("_")!=-1?n.split("_").join(""):n;if(!isNaN(parseFloat(s)))return{type:"number",value:n}}}return null}_identifier(){let e=this._position;if(python.Tokenizer._isIdentifierStartChar(this._get(e)))for(e++;python.Tokenizer._isIdentifierChar(this._get(e));)e++;if(e>this._position){const i=this._text.substring(this._position,e);return{type:"id",value:i,keyword:python.Tokenizer._isKeyword(i)}}return null}_operator(){let e=0;const i=this._get(this._position),t=this._get(this._position+1),r=this._get(this._position+2);switch(i){case"+":case"&":case"|":case"^":case"=":case"!":case"%":case"~":e=t==="="?2:1;break;case"-":e=t==="="||t===">"?2:1;break;case"*":e=t==="*"?r==="="?3:2:t==="="?2:1;break;case"/":e=t==="/"?r==="="?3:2:t==="="?2:1;break;case"<":e=t===">"?2:t==="<"?r==="="?3:2:t==="="?2:1;break;case">":e=t===">"?r==="="?3:2:t==="="?2:1;break;case"@":e=t==="="?2:1;break;case":":e=t==="="?2:1}if(e>0){const n=this._text.substring(this._position,this._position+e);return{type:n,value:n}}return null}_string(){let e=this._position,i=-1;if(this._get(e)==="'"||this._get(e)==='"')i="";else if(this._get(e+1)==="'"||this._get(e+1)==='"'){const t=this._get(e);switch(t.toLowerCase()){case"b":case"f":case"r":case"u":i=t}}else if(this._get(e+2)==="'"||this._get(e+2)==='"'){const t=this._text.substr(this._position,2);switch(t.toLowerCase()){case"br":case"fr":case"rb":case"rf":case"ur":i=t}}if(i.length>=0){e+=i.length;let t="",r=0;const n=this._get(e),s=this._get(e+1),o=this._get(e+2);switch(n){case"'":t=n,r=s==="'"&&o==="'"?3:1;break;case'"':t=n,r=s==='"'&&o==='"'?3:1}if(e+=r,r==1)for(;e<this._text.length;){if(this._text[e]===t)return{type:"string",value:this._text.substring(this._position,e+1)};if(this._text[e]!=="\\"||this._get(e+1)!=t&&this._get(e+1)!=`
`&&this._get(e+1)!="\\"){if(this._text[e]==="\r"||this._text[e]===`
`)break;e++}else e+=2}else if(r==3)for(;e<this._text.length;){if(this._get(e)===t&&this._get(e+1)===t&&this._get(e+2)===t)return{type:"string",value:this._text.substring(this._position,e+3)};this._get(e)!=="\\"||this._get(e+1)!==t?e++:e+=2}}if(e=this._position,this._get(e)==="`")for(e++;e<this._text.length;){if(this._text[e]==="`")return{type:"string",value:this._text.substring(this._position,e+1)};e++}return null}static _isKeyword(e){switch(e){case"and":case"as":case"else":case"for":case"if":case"import":case"in":case"is":case"not":case"or":return!0}return!1}},python.Error=class extends Error{constructor(e){super(e),this.name="Error loading Python module."}},typeof module!="undefined"&&typeof module.exports=="object"&&(module.exports.Parser=python.Parser);
