function c(){return c=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var r=arguments[o];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}import t,{useCallback as I,useContext as y,useMemo as h,useState as _}from"../../web_modules/react.js";import{em as w,rem as x,transitionProps as b}from"../utils/style.js";import E from"./Icon.js";import u from"../../web_modules/@tippyjs/react.js";import p from"../../web_modules/styled-components.js";const k=p.div.withConfig({displayName:"ChartToolbox__Toolbox",componentId:"sc-1ry3lir-0"})(["font-size:",";line-height:1;height:1em;display:grid;grid-template-columns:",";grid-gap:",";place-items:center;justify-content:",";align-content:center;"],w(16),e=>e.size==null?"repeat(auto-fill, 1em)":`repeat(${e.size}, 1em)`,x(14),e=>e.reversed?"end":"start"),j=p.a.withConfig({displayName:"ChartToolbox__ToolboxItem",componentId:"sc-1ry3lir-1"})(["cursor:pointer;color:",";"," &:hover{color:",";}&:active{color:",";}"],e=>e.active?"var(--primary-color)":"var(--text-lighter-color)",b("color"),e=>e.active?"var(--primary-focused-color)":"var(--text-light-color)",e=>e.active?"var(--primary-active-color)":"var(--text-color)"),g=p.div.withConfig({displayName:"ChartToolbox__ChartToolboxMenuWrapper",componentId:"sc-1ry3lir-2"})(["background-color:var(--background-color);",";> a{cursor:pointer;display:block;padding:",";background-color:var(--background-color);",";&:hover{background-color:var(--background-focused-color);}}"],b("background-color"),x(10),b(["color","background-color"])),M=p(E).withConfig({displayName:"ChartToolbox__ChartToolboxMenuIcon",componentId:"sc-1ry3lir-3"})(["vertical-align:middle;font-size:78%;margin-left:0.6em;"]),d=t.forwardRef(({toggle:e,icon:o,activeIcon:r,activeStatus:n,onClick:a},l)=>t.createElement(j,{ref:l,active:e&&!r&&n,onClick:()=>a==null?void 0:a()},t.createElement(E,{type:e&&n&&r||o})));d.displayName="ChartToolboxIcon";const v=t.createContext({tooltipPlacement:"top"}),N=({icon:e,tooltip:o,onClick:r})=>{const n=h(()=>t.createElement(d,{icon:e,onClick:r}),[e,r]),{tooltipPlacement:a}=y(v);return o?t.createElement(u,{content:o,placement:a||"top",theme:"tooltip"},n):n},z=({icon:e,tooltip:o,activeIcon:r,activeTooltip:n,onClick:a})=>{const[l,s]=_(!1),m=I(()=>{s(f=>(a==null||a(!f),!f))},[a]),i=h(()=>t.createElement(d,{icon:e,activeIcon:r,activeStatus:l,toggle:!0,onClick:m}),[e,r,l,m]),{tooltipPlacement:T}=y(v);return o?t.createElement(u,{content:l&&n||o,placement:T||"top",theme:"tooltip"},i):i},C=({label:e,onClick:o,children:r})=>r?t.createElement(u,{content:t.createElement(g,null,r.map((n,a)=>t.createElement(C,c({},n,{key:a})))),placement:"right-start",animation:"shift-away-subtle",interactive:!0,hideOnClick:!1,arrow:!1,role:"menu",theme:"menu",offset:[0,0]},t.createElement("a",null,e," ",t.createElement(M,{type:"chevron-right"}))):t.createElement(g,null,t.createElement("a",{onClick:()=>o==null?void 0:o()},e)),O=({icon:e,menuList:o})=>t.createElement(u,{content:t.createElement(g,null,o.map((r,n)=>t.createElement(C,c({},r,{key:n})))),placement:"right-start",animation:"shift-away-subtle",interactive:!0,hideOnClick:!1,arrow:!1,role:"menu",theme:"menu"},t.createElement(d,{icon:e})),P=({tooltipPlacement:e,items:o,reversed:r,className:n})=>{const a=h(()=>({tooltipPlacement:e}),[e]);return t.createElement(t.Fragment,null,t.createElement(k,{className:n,size:o.length,reversed:r},t.createElement(v.Provider,{value:a},o.map((l,s)=>{if(l.menuList){const i=l;return t.createElement(O,c({},i,{key:s}))}if(l.toggle){const i=l;return t.createElement(z,c({},i,{key:s}))}const m=l;return t.createElement(N,c({},m,{key:s}))}))))};export default P;
