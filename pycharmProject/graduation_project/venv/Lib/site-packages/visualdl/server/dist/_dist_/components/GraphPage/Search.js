let z=t=>t,v;import e,{useCallback as h,useEffect as g,useState as y}from"../../../web_modules/react.js";import{css as R,ellipsis as L,em as o,rem as b,sameBorder as E,size as T,transitionProps as I,triangle as V}from"../../utils/style.js";import W from"../Field.js";import X from"../SearchInput.js";import c from"../../../web_modules/styled-components.js";import B from"../../hooks/useSearchValue.js";import{useTranslation as P}from"../../../web_modules/react-i18next.js";const $=c(W).withConfig({displayName:"Search__SearchField",componentId:"sc-14cp3it-0"})(["margin-bottom:",";display:flex;justify-content:space-between;align-items:center;>:first-child{flex:auto;}> a:last-child{color:var(--primary-color);cursor:pointer;margin-left:",";flex:none;","}"],b(20),b(10),I("color")),q=c.div.withConfig({displayName:"Search__Empty",componentId:"sc-14cp3it-1"})(["padding:"," 0;text-align:center;color:var(--text-light-color);",""],b(100),I("color")),G=c.div.withConfig({displayName:"Search__Wrapper",componentId:"sc-14cp3it-2"})(["overflow:auto;"]),H=c.ul.withConfig({displayName:"Search__List",componentId:"sc-14cp3it-3"})(["list-style:none;margin:0;padding:0;"]),J=c.li.withConfig({displayName:"Search__Item",componentId:"sc-14cp3it-4"})(["padding:"," ",";cursor:pointer;width:100%;background-color:var(--background-color);display:flex;align-items:center;"," > span{flex:auto;margin-left:",";","}&:hover{background-color:var(--background-focused-color);}"],o(10),o(12),I("background-color"),o(10),L()),_=R(v||(v=z`
    color: #979797;
    flex: none;
    width: ${0};
`),o(8)),C=c.i.withConfig({displayName:"Search__EdgeIcon",componentId:"sc-14cp3it-5"})([""," position:relative;height:",";overflow:hidden;&::before{content:'';display:block;"," background-color:currentColor;position:absolute;top:0;left:50%;transform:translateX(-50%);}&::after{content:'';display:block;"," position:absolute;top:",";left:50%;transform:translateX(-50%);}"],_,o(11),T(o(6),o(1)),V({pointingDirection:"bottom",height:o(5),width:o(7),foregroundColor:"currentColor"}),o(6)),K=c.i.withConfig({displayName:"Search__NodeIcon",componentId:"sc-14cp3it-6"})([""," height:",";"," background-color:#f7f7f7;"],_,o(7),E({radius:o(2),color:"currentColor"})),M=c.i.withConfig({displayName:"Search__InitializerIcon",componentId:"sc-14cp3it-7"})([""," height:",";"," background-color:#f7f7f7;"],_,o(8),E({radius:o(4),color:"currentColor"})),O={input:C,output:C,node:K,initializer:M},Q=({text:t,data:i,onChange:r,onSelect:s,onActive:a,onDeactive:l})=>{const{t:u}=P(["graph","common"]),[d,m]=y(t!=null?t:""),[p,f]=y(!1),[w,S]=y(i.result),k=B(d);g(()=>m(t!=null?t:""),[t]),g(()=>{p?r==null||r(k):S([])},[k,p,r]),g(()=>{i.text===d&&S(i.result)},[i,d]);const N=h(()=>{f(!0),a==null||a()},[a]),j=h(()=>{m(""),r==null||r(""),f(!1),l==null||l()},[r,l]),x=h(n=>{m(n.name),s==null||s(n),f(!1),l==null||l()},[s,l]);return e.createElement(e.Fragment,null,e.createElement($,null,e.createElement(X,{placeholder:u("common:search"),value:d,onChange:m,onFocus:N}),p&&e.createElement("a",{onClick:j},u("common:cancel"))),p&&(w.length?e.createElement(G,null,e.createElement(H,null,w.map(n=>{const F=O[n.type];return e.createElement(J,{key:n.id,onClick:()=>x(n),title:n.name},e.createElement(F,null),e.createElement("span",null,n.name))}))):e.createElement(q,null,u("graph:nothing-matched"))))};export default Q;
